### 가상 메모리(VIrtual Memory System)

#### 필요한 이유
- 하나의 프로세스만 실행 가능한 시스템
  1. 프로그램을 메모리에 로드
  2. 프로세스 실행
  3. 프로세스 종료 (메모리 해제)
- 여러 프로세스 동시 실행 시스템
  1. 메모리 용량 부족 이슈
  2. 프로세스 메모리 영역간에 침법 이슈

#### 정의
- 메모리가 실제 메모리보다 많아 보이게 하는 기술
  - 실제 사용하는 메모리는 작다는 점에 착안해서 고안된 기술
  - 프로세스간 공간 분리로, 프로세스 이슈가 전체 시스템에 영향을 주지 않을 수 있음
- 실제 각 프로세스마다 충분한 메모리를 할당하기에는 메모리 크기에 한계가 있음
  ex) 리눅스 하나의 프로세스가 4GB(통상 메모리는 8GB, 16GB)
- 폰 노이만 구조 기반이므로, 코드는 메모리에 반드시 있어야 함
> 폰 노이만 구조는 중앙처리장치(CPU), 메모리, 프로그램 세 가지 요소로 구성되어 있습니다. 아래 그림처럼 CPU와 메모리는 서로 분리되어 있고 둘을 연결하는 버스를 통해 명령어 읽기, 데이터의 읽고  쓰기가 가능합니다. 이때 메모리 안에 프로그램과 데이터 영역은 물리적 구분이 없기 때문에 명령어와 데이터가 같은 메모리, 버스를 사용하게 됩니다. 다시 말해, 외나무다리와 같은 버스를 통해 CPU가 명령어와 데이터에 동시 접근할 수 없습니다. 이 구조의 가장 큰 장점은 프로그램 내장 방식 컴퓨터라는 점입니다. 예시를 통해 쉽게 설명해보겠습니다. 이전 컴퓨터는 1+1, 3-2 라는 두 가지의 명령을 수행하려면 하드웨어의 전선을 직접 1, 더하기, 1, 3, 빼기, 2를 의미하는 것으로 매번 바꿔 끼워 입력해야 했습니다. 그러나 폰 노이만 구조에서는 더하기, 빼기 기능을 담은 소프트웨어가 메모리 안에 내장되어 있습니다. 그래서 계산이 필요할 때마다 메모리 안의 프로그램과 데이터를 CPU에 전달하여 계산을 처리합니다.여기서 CPU가 메모리에 저장된 명령어를 받아와 계산할 때 메모리로부터 명령어를 가져오는 fetch, 명령어의 의미를 해석하는 decode, 명령어를 실행하는 execute, 결과를 저장하는 store의 순서로 처리됩니다. 또한 폰 노이만 구조는 ‘내장 메모리 순차처리 방식’을 따르고 있기 때문에 CPU는 순차적으로 한 번에 명령어 하나씩 실행합니다.

#### 기본 아이디어
- 프로세스는 가상 주소를 사용하고, 실제 해당 주소에서 데이터를 읽고 쓸때만 물리 주소를 바꿔준다
- MMU(Memory Management Unit) - 가상 주소를 물리 주소로 변환해주는 하드웨어 장치

#### 가상 메모리와 MMU
- CPU는 가상 메모리를 다루고, 가상 주소 접근 시 MMU를 통해 물리 메모리에 접근한다